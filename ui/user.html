<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Maintenance Tracker :: Request</title>
    <meta name="description" content="Maintenance Tracker App is an application that 
provides users with the ability to reach out to operations or repairs department 
regarding repair or maintenance requests and monitor the status of their request.">
    <meta name="author" content="Nditah">
    <link rel="icon" href="./images/logo.png" sizes="16x16" type="image/png">

   <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="request.css"> 
</head>

<body>

    <header>
        <h1>Maintenance Tracker :: User</h1>
    </header>

    <nav>
        <ul>
            <li>
                <a class="active" href="request.html">Home</a>
            </li>
            <li>
                <a href="#">Profile</a>
            </li>
            <li>
                <a href="#">Contact</a>
            </li>
            <li style="float:right">
                <a href="admin.html">Admin</a>
            </li>
            <li style="float:right">
                <a href="index.html">Logout</a>
            </li>
        </ul>
    </nav>

    <section>
        <div class="container color-dark">
            <div class="col">
                <p>REQUEST HISTORY</p>
            </div>
            <div class="col">
                <p>REQUEST DETAILS</p>
            </div>
        </div>

        <div class="container color-light">
            <div class="col" id="lifeContainer">
                <table class="life-container" width="100%">
                    <tr>
                        <th width="10%">SN</th>
                        <th width="10%">ID</th>
                        <th width="10%">Date</th>
                        <th width="50%">Subject </th>
                        <th width="20%">Status</th>
                    </tr>
                    <tr>
                        <td colspan=5 style="padding:0; width:100% !important;">
                            <div id="lifeContent">
                                <table id="tblRequest" class="tblRequest" width="100%">
                                    <tr>
                                        <th width="10%">SN</th>
                                        <th width="10%">ID</th>
                                        <th width="10%">Date</th>
                                        <th width="50%">Subject </th>
                                        <th width="20%">Status</th>
                                    </tr>
                                </table>
                            </div>
                        </td>
                    </tr>

                </table>

            </div>

            <div class="col">
                <p class="feedback" id="feedback">Create a new repair / maintenance request or click on the record on the table to view details &nbsp; </p>

                <form name="requestForm" id="requestForm" class="requestForm form" method="POST">
                    <input type="hidden" class="txt" name="requestStatus" id="requestStatus" placeholder="Request Status"> 
                    <input type="text" class="txt" name="requestSubject" id="requestSubject" placeholder="Request Subject" required>
                    <input type="hidden" class="txt" name="requestId" id="requestId" value="1" />
                    <input type="hidden" class="txt" name="userId" id="userId" value="1" />
                    <textarea class="txt" name="requestDescription" id="requestDescription" placeholder="Request Description" required></textarea>
                    <select class="txt" name="requestPriority" id="requestPriority" required>
                        <option value="" disabled selected>Select request priority</option>
                        <option value="low">Low</option>
                        <option value="normal">Normal</option>
                        <option value="high">High</option>
                    </select>
                    <p> <button type="button" class="btn" onclick="createRequest();">Create</button>
                        <button type="button" class="btn" onclick="updateRequest();">Update</button> </p>
                    
                </form>
            </div>

        </div>
    </section>


    <!-- jQuery library -->
    <!-- <script src="jquery.min.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <!-- Activity Script -->
    <script src="user.js"></script>
    <script>
        let userId = 1;
        $(document).ready(function () {
            request_user(userId); 
        });
    </script>

</body>

</html>